ccm.component({name:"learn_cards",config:{key:"macro",store:[ccm.store,"http://mkaul.github.io/ccm-components/resources/learn_cards/learn_cards.json"],style:[ccm.load,"http://mkaul.github.io/ccm-components/resources/learn_cards/learn_cards.css"]},Instance:function(){var n=this;this.render=function(e){function t(n){s.find("div.answer").toggle(n),s.find("div.source").toggle(n),s.find("div.next").toggle(n)}Array.prototype.remove=function(n,e){var t=this.slice((e||n)+1||this.length);return this.length=0>n?this.length+n:n,this.push.apply(this,t)};var s=ccm.helper.element(n).html('<h2>Nennen Sie den passenden Begriff zu folgender Umschreibung:</h2><div class="card"><div class="question"></div><button class="answer">Zeige Antwort</button><div class="answer"></div><div class="source"></div></div><div class="next"><button id="known" class="next">gewusst</button><button id="unknown" class="next">nicht gewusst</button></div>'),i=s.find("div.question"),r=s.find("div.answer");t(),s.find("button.answer").click(function(){t()}),ccm.helper.dataset(n,function(n){function c(){o=Math.floor(a.length*Math.random());var e=n[a[o]];i.html(e.question),r.html(e.answer),e.source?s.find("div.source").html('<a href="'+e.source+'" target="_blank">'+e.source.replace(/^https?\:\/\//i,"")+"</a>"):s.find("div.source").html("")}var o=0,a=Array.apply(null,{length:n.length}).map(Number.call,Number);c(),s.find("button.next").click(function(){return"known"===jQuery(this).attr("id")&&(a.remove(o),0===a.length)?(s.find("div.card").html("<h1>Herzlichen Gl√ºckwunsch!</h1> <h1>Alles gewusst!</h1>"),s.find("h2").hide(),void s.find("div.next").hide()):(t(!1),void c())}),e&&e()})}}});