ccm.component({name:"multiple_choice",config:{key:"leistungen",store:[ccm.store,"http://mkaul.github.io/ccm-components/lib/jsonp/quizz.json"],style:[ccm.load,"http://mkaul.github.io/ccm-components/lib/css/multiple_choice.css"]},Instance:function(){var n=this;this.render=function(e){var r=ccm.helper.element(n);ccm.helper.dataset(n,function(t){function a(n,e){function r(){for(var n=1;n<=t.answers.length;n++)s.push({inner:{tag:"input",type:"checkbox",name:e+"-"+n}})}function a(){for(var n=1;n<=t.answers.length;n++)s.push({inner:{tag:"input",type:"radio",name:e,value:n}})}function i(){for(var n=1;n<=t.answers.length;n++)s.push({inner:{tag:"input",type:"number",name:e+"-"+n}})}var s=o[e].inner;Array.isArray(n)?"boolean"==typeof n[0]||"number"==typeof n[0]?r():"string"==typeof n[0]&&i():"number"==typeof n&&a()}function i(){function e(e,r){var a,i,o;if("boolean"==typeof e[0])for(var c=1;c<=t.answers.length;c++)a=ccm.helper.find(n,'input[name="'+r+"-"+c+'"]').parent(),i=!!s[r+"-"+c],o=e[c-1],a.addClass(i===o?"right":"wrong");else if("number"==typeof e[0])for(var c=1;c<=t.answers.length;c++){a=ccm.helper.find(n,'input[name="'+r+"-"+c+'"]').parent(),i=!!s[r+"-"+c],o=!1;for(var l=0;l<e.length;l++)e[l]===c-1&&(o=!0);a.addClass(i===o?"right":"wrong")}}function a(e,r){for(var a,i,o,c=1;c<=t.answers.length;c++)a=ccm.helper.find(n,'input[name="'+r+"-"+c+'"]').parent(),i=s[r+"-"+c],o=e[c-1],a.addClass(i===o?"right":"wrong")}function i(e,r){for(var a,i,o,c=1;c<=t.answers.length;c++)a=ccm.helper.find(n,'input[name="'+r+'"][value="'+c+'"]').parent(),i=s[r],o=e+1,a.addClass(i==o?"right":"wrong")}var s=ccm.helper.formData(jQuery(this));console.log("results",s);for(var o=0;o<t.questions.length;o++){var c=t.questions[o].correct;Array.isArray(c)?"boolean"==typeof c[0]||"number"==typeof c[0]?e(c,o+1):"string"==typeof c[0]&&a(c,o+1):"number"==typeof c&&i(c,o+1)}var l=ccm.helper.find(n,"form > div");return r.html(ccm.helper.html([{"class":"result"},{"class":"neustart",inner:{tag:"button",inner:"Neustart",onclick:function(){n.render()}}}])),ccm.helper.find(n,".result").html(l),!1}var s={tag:"form",onsubmit:i,inner:[{inner:[]},{tag:"input",type:"submit",value:"Abschicken"}]},o=s.inner[0].inner;o.push({inner:[{}]});for(var c=0;c<t.answers.length;c++)o[0].inner.push({inner:t.answers[c]});for(var l=0;l<t.questions.length;l++)o.push({inner:[{inner:t.questions[l].text}]}),a(t.questions[l].correct,l+1);r.html(ccm.helper.html(s)),n.lang&&n.lang.render(),e&&e()})}}});