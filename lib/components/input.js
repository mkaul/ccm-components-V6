ccm.component({name:"input",config:{key:"demo",submit:function(e){console.log(e)},store:[ccm.store,"http://mkaul.github.io/ccm-components/lib/jsonp/input.json"],style:[ccm.load,"http://mkaul.github.io/ccm-components/lib/css/input.css"]},Instance:function(){var e=this;this.render=function(n){var t=ccm.helper.element(e);e.store.get(e.key,function(a){function i(n){var t=n.label||n.name;switch(delete n.label,n.input){case"select":case"textarea":n.tag=n.input;break;default:n.tag="input",n.type=n.input}if("radio"===n.input){for(var a=0;a<n.values.length;a++)n.values[a].tag=n.tag,n.values[a].type=n.type,n.values[a].name=n.name,n.values[a]={tag:"label",inner:[n.values[a],{tag:"span",inner:"&nbsp;"},{tag:"span",inner:n.values[a].caption||n.values[a].value},{tag:"br"}]},delete n.values[a].inner[0].caption;n=n.values}if("checkbox"===n.input)if(n.values){for(var a=0;a<n.values.length;a++)n.values[a].tag=n.tag,n.values[a].type=n.type,n.values[a].value=n.values[a].value||n.values[a].name,n.values[a]={tag:"label",inner:[n.values[a],{tag:"span",inner:"&nbsp;"},{tag:"span",inner:n.values[a].caption||n.values[a].value},{tag:"span",inner:"&nbsp;&nbsp;&nbsp;"}]},delete n.values[a].inner[0].caption;n=n.values}else n.id=e.index+"-"+n.name,t={tag:"label","for":n.id,inner:t},n=[n,{tag:"span",inner:"&nbsp;"},{tag:"span",inner:n.caption}],delete n[0].caption;if("select"===n.input){n.inner=n.options,delete n.options;for(var a=0;a<n.inner.length;a++)n.inner[a].tag="option",n.inner[a].inner=n.inner[a].caption||n.inner[a].value,delete n.inner[a].caption}"range"===n.input&&(n.oninput=function(){jQuery(this).next().next().text(jQuery(this).val())},n=[n,{tag:"span",inner:"&nbsp;"},{tag:"span",inner:n.value||(parseInt(n.min)||0)+(parseInt(n.max)||100)/2}]),delete n.input,s[0].inner.push({tag:"tr",inner:[{tag:"td",inner:t},{tag:"td",inner:n}]})}if(null===a)return e.store.set({key:e.key},function(n){e.key=n.key,t.remove(),e.render()});var s=[{tag:"table",inner:[]}];if(a.inputs)if(Array.isArray(a.inputs))for(var r=0;r<a.inputs.length;r++)i(a.inputs[r]);else i(a.inputs);if(a.fieldset&&(s={tag:"fieldset",inner:s},"string"==typeof a.fieldset&&s.inner.unshift({tag:"legend",inner:a.fieldset})),a.form&&(a.form===!0&&(a.form={button:!0}),s={tag:"form",onsubmit:a.form.onsubmit,inner:s},a.form.button)){var l={tag:"input",type:"submit",value:a.form.button};l.value===!0&&delete l.value,a.fieldset?s.inner.inner.push(l):s.inner.push(l)}t.html(ccm.helper.html(s,function(){return e.submit(ccm.helper.formData(jQuery(this))),!1})),n&&n()})}}});