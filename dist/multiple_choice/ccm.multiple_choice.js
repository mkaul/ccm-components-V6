ccm.component({name:"multiple_choice",config:{key:"leistungen",store:[ccm.store,"http://mkaul.github.io/ccm-components/dist/quizz/quizz.json"],style:[ccm.load,"http://mkaul.github.io/ccm-components/dist/multiple_choice/multiple_choice.css"]},Instance:function(){var n=this;this.render=function(e){var r=ccm.helper.element(n);ccm.helper.dataset(n,function(t){function i(n,e){function r(){for(var n=1;n<=t.answers.length;n++)o.push({inner:{tag:"input",type:"checkbox",name:e+"-"+n}})}function i(){for(var n=1;n<=t.answers.length;n++)o.push({inner:{tag:"input",type:"radio",name:e,value:n}})}function a(){for(var n=1;n<=t.answers.length;n++)o.push({inner:{tag:"input",type:"number",name:e+"-"+n}})}var o=s[e].inner;Array.isArray(n)?"boolean"==typeof n[0]||"number"==typeof n[0]?r():"string"==typeof n[0]&&a():"number"==typeof n&&i()}function a(){function e(e,r){var i,a,s;if("boolean"==typeof e[0])for(var c=1;c<=t.answers.length;c++)i=ccm.helper.find(n,'input[name="'+r+"-"+c+'"]').parent(),a=!!o[r+"-"+c],s=e[c-1],i.addClass(a===s?"right":"wrong");else if("number"==typeof e[0])for(var c=1;c<=t.answers.length;c++){i=ccm.helper.find(n,'input[name="'+r+"-"+c+'"]').parent(),a=!!o[r+"-"+c],s=!1;for(var l=0;l<e.length;l++)e[l]===c-1&&(s=!0);i.addClass(a===s?"right":"wrong")}}function i(e,r){for(var i,a,s,c=1;c<=t.answers.length;c++)i=ccm.helper.find(n,'input[name="'+r+"-"+c+'"]').parent(),a=o[r+"-"+c],s=e[c-1],i.addClass(a===s?"right":"wrong")}function a(e,r){for(var i,a,s,c=1;c<=t.answers.length;c++)i=ccm.helper.find(n,'input[name="'+r+'"][value="'+c+'"]').parent(),a=o[r],s=e+1,i.addClass(a==s?"right":"wrong")}var o=ccm.helper.formData(jQuery(this));console.log("results",o);for(var s=0;s<t.questions.length;s++){var c=t.questions[s].correct;Array.isArray(c)?"boolean"==typeof c[0]||"number"==typeof c[0]?e(c,s+1):"string"==typeof c[0]&&i(c,s+1):"number"==typeof c&&a(c,s+1)}var l=ccm.helper.find(n,"form > div");return r.html(ccm.helper.html([{"class":"result"},{"class":"neustart",inner:{tag:"button",inner:"Neustart",onclick:function(){n.render()}}}])),ccm.helper.find(n,".result").html(l),!1}var o={tag:"form",onsubmit:a,inner:[{inner:[]},{tag:"input",type:"submit",value:"Abschicken"}]},s=o.inner[0].inner;s.push({inner:[{}]});for(var c=0;c<t.answers.length;c++)s[0].inner.push({inner:t.answers[c]});for(var l=0;l<t.questions.length;l++)s.push({inner:[{inner:t.questions[l].text}]}),i(t.questions[l].correct,l+1);r.html(ccm.helper.html(o)),n.lang&&n.lang.render(),e&&e()})}}});