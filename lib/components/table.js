ccm.component({name:"table",config:{key:"test",store:[ccm.store,{db:"redis",store:"table",url:"wss://ccm.inf.h-brs.de:8888/index.js"}],style:[ccm.load,"http://mkaul.github.io/ccm-components/lib/css/table.css"]},Instance:function(){function e(){if(ccm.helper.isInDOM(t)){var e=t.element.find("> div > div > div > input");if(!ccm.helper.tagExists(e))return t.render();var n=e.parent().attr("id"),c=e.val(),r=ccm.helper.getCursor(e);t.render(function(){var e=t.element.find("#"+n);e.click();var l=e.find("> input");l.val(c),ccm.helper.focusInput(l,r)})}}var t=this;this.init=function(n){t.store.onChange=e,n()},this.render=function(e){var n=ccm.helper.element(t);ccm.helper.dataset(t,function(c){function r(){if(!c.cols){var e=[];if(c.col)for(var t=0;t<c.col;t++)e.push({});else e=[{},{},{}];c.cols=e}}function l(e,r){function l(){if(!e.rows){var t=[];if(c.row)for(var n=0;n<c.row;n++)t.push({});else t=[{},{},{}];e.rows=t}}function o(l,o){function s(){function e(e){e.attr("size",e.val().length||1)}var l=jQuery(this);if(!ccm.helper.tagExists(l.find("> input"))){var i=l.text();l.addClass("edit").html(ccm.helper.html({tag:"input",value:i,oninput:function(){function i(){function e(){for(var e=0;e<c.cols.length;e++)c.cols[e].rows.unshift({});n.children().prepend(ccm.helper.html({inner:{tag:"span"},onclick:s}))}function t(){for(var e=0;e<c.cols.length;e++)c.cols[e].rows.push({});n.children().append(ccm.helper.html({inner:{tag:"span"},onclick:s}))}function r(){for(var e=[],t=ccm.helper.html({}),r=0;r<c.cols[0].rows.length;r++)e.push({}),t.append(ccm.helper.html({inner:{tag:"span"},onclick:s}));c.cols.unshift({rows:e}),n.prepend(t)}function o(){for(var e=[],t=ccm.helper.html({}),r=0;r<c.cols[0].rows.length;r++)e.push({}),t.append(ccm.helper.html({inner:{tag:"span"},onclick:s}));c.cols.push({rows:e}),n.append(t)}c.left&&!ccm.helper.tagExists(l.prev())&&e(),c.right&&!ccm.helper.tagExists(l.next())&&t(),c.top&&!ccm.helper.tagExists(l.parent().prev())&&r(),c.bottom&&!ccm.helper.tagExists(l.parent().next())&&o()}var a=jQuery(this),p=a.val().trim();e(a),c.cols[r].rows[o].val=p,i(),t.store.set(c)},onblur:function(){var e=jQuery(this);l.html(e.val().trim()||ccm.helper.html({tag:"span"})).removeClass("edit"),e.remove()}}));var a=l.find("> input");e(a),ccm.helper.focusInput(a)}}n.find("> div:last").append(ccm.helper.html({"class":l.not||e.not?"not":void 0,inner:l.val||{tag:"span"},onclick:l.not||e.not?void 0:s}))}n.append(ccm.helper.html({})),l();for(var s=0;s<e.rows.length;s++)o(e.rows[s],s)}n.html(""),r();for(var o=0;o<c.cols.length;o++)l(c.cols[o],o);e&&e()})}}});