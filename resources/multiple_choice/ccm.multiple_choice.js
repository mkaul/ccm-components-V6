ccm.component({name:"multiple_choice",config:{key:"leistungen",store:[ccm.store,"http://mkaul.github.io/ccm-components/resources/quizz/quizz.json"],style:[ccm.load,"http://mkaul.github.io/ccm-components/resources/multiple_choice/multiple_choice.css"]},Instance:function(){var e=this;this.render=function(n){var r=ccm.helper.element(e);ccm.helper.dataset(e,function(t){function a(e,n){function r(){for(var e=1;e<=t.answers.length;e++)o.push({inner:{tag:"input",type:"checkbox",name:n+"-"+e}})}function a(){for(var e=1;e<=t.answers.length;e++)o.push({inner:{tag:"input",type:"radio",name:n,value:e}})}function i(){for(var e=1;e<=t.answers.length;e++)o.push({inner:{tag:"input",type:"number",name:n+"-"+e}})}var o=s[n].inner;Array.isArray(e)?"boolean"==typeof e[0]||"number"==typeof e[0]?r():"string"==typeof e[0]&&i():"number"==typeof e&&a()}function i(){function n(n,r){var a,i,s;if("boolean"==typeof n[0])for(var c=1;c<=t.answers.length;c++)a=ccm.helper.find(e,'input[name="'+r+"-"+c+'"]').parent(),i=!!o[r+"-"+c],s=n[c-1],a.addClass(i===s?"right":"wrong");else if("number"==typeof n[0])for(var c=1;c<=t.answers.length;c++){a=ccm.helper.find(e,'input[name="'+r+"-"+c+'"]').parent(),i=!!o[r+"-"+c],s=!1;for(var u=0;u<n.length;u++)n[u]===c-1&&(s=!0);a.addClass(i===s?"right":"wrong")}}function a(n,r){for(var a,i,s,c=1;c<=t.answers.length;c++)a=ccm.helper.find(e,'input[name="'+r+"-"+c+'"]').parent(),i=o[r+"-"+c],s=n[c-1],a.addClass(i===s?"right":"wrong")}function i(n,r){for(var a,i,s,c=1;c<=t.answers.length;c++)a=ccm.helper.find(e,'input[name="'+r+'"][value="'+c+'"]').parent(),i=o[r],s=n+1,a.addClass(i==s?"right":"wrong")}var o=ccm.helper.formData(jQuery(this));console.log("results",o);for(var s=0;s<t.questions.length;s++){var c=t.questions[s].correct;Array.isArray(c)?"boolean"==typeof c[0]||"number"==typeof c[0]?n(c,s+1):"string"==typeof c[0]&&a(c,s+1):"number"==typeof c&&i(c,s+1)}var u=ccm.helper.find(e,"form > div");return r.html(ccm.helper.html([{"class":"result"},{"class":"neustart",inner:{tag:"button",inner:"Neustart",onclick:function(){e.render()}}}])),ccm.helper.find(e,".result").html(u),!1}var o={tag:"form",onsubmit:i,inner:[{inner:[]},{tag:"input",type:"submit",value:"Abschicken"}]},s=o.inner[0].inner;s.push({inner:[{}]});for(var c=0;c<t.answers.length;c++)s[0].inner.push({inner:t.answers[c]});for(var u=0;u<t.questions.length;u++)s.push({inner:[{inner:t.questions[u].text}]}),a(t.questions[u].correct,u+1);r.html(ccm.helper.html(o)),e.lang&&e.lang.render(),n&&n()})}}});